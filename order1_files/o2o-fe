!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}({2:function(e,t,n){"use strict";n.r(t);var o=window.ebridge,r=/MicroMessenger/i.test(navigator.userAgent)&&/miniProgram/i.test(navigator.userAgent),i=window.ebridge&&["isAlipay","isEleme","isTaobao","isAliMiniApp"].some(function(e){return window.ebridge[e]}),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var o=e[n];return t.push("".concat(n,"=").concat(o)),t},[]).join("&")},c=function(e){var t=new RegExp("[?#&]".concat(e,"=([^?#&]+)")),n=(window.location.href.match(t)||[])[1];return n?decodeURIComponent(n):n},u=function(){try{var e=document.querySelector('meta[name="spm-id"]')||document.querySelector('meta[name="data-spm"]');if(!e||1!==e.nodeType)return"0.0";var t=e.getAttribute("content").split(".");if(t.length<2){var n=document.body.getAttribute("data-spm")||"0";t.push(n)}return t.join(".")}catch(e){return"0.0"}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=RegExp.prototype.test.bind(/^(?:toString|valueOf)$/),n={};return e.replace(/([^=?#&]*)=([^?#&]*)/g,function(e,o,r){t(o)||(n[decodeURIComponent(o)]=decodeURIComponent(r))}),n},s=function(e){var t=new RegExp("(?:^|; )".concat(e,"=(.*?)(?:; |$)|$"));return document.cookie.match(t)[1]},l=function(e){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.sendPV",arguments:[{is_auto:!1},e]})},f=-1,g=[];window.pageLocation={longitude:0,latitude:0},/zebra\.alibaba-inc\.com\/preview\/iframe/.test(location.href)&&window.parent!==window&&(window.longitude=121.382379,window.latitude=31.232878);var p,w=function(e){return new Promise(function(t){if(!window.ebridge)return t(window.pageLocation);-1===f||e&&0!==f?(f=0,window.ebridge.getLocation({useTaoCache:!0,checkQuery:!0,timeout:i?3:10}).then(function(e){for(window.pageLocation=e,f=1,t(window.pageLocation);g.length>0;)g.pop()(window.pageLocation)}).catch(function(){for(f=1,t(window.pageLocation);g.length>0;)g.pop()(window.pageLocation)})):0===f?g.push(t):t(window.pageLocation)})},m=function(){var e=c("geohash");if(e&&window.Geohash)try{window.sessionStorage.setItem("@ele_geohash",e);var t=window.Geohash.decode(e);window.pageLocation.latitude=t[0],window.pageLocation.longitude=t[1]}catch(e){}return window.pageLocation},h=function(){try{var e=JSON.parse(localStorage.getItem("STORE"));if(!e)return null;var t=e.location;return{latitude:"".concat(t.latitude),longitude:"".concat(t.longitude),city_id:"".concat(e.cityId),district_id:"".concat(e.districtId)}}catch(e){return null}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t){var n=e.latitude,o=void 0===n?0:n,r=e.longitude,i=void 0===r?0:r;return t({latitude:"".concat(o),longitude:"".concat(i),city_id:"",district_id:""})})},_=i?function(){return new Promise(function(e){w().then(v).then(e)})}:function(){return new Promise(function(e){var t=h();if(t)return e(t);var n=m();v(n).then(e)})},b=function(e,t){return new Promise(function(n){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,o){t.type=(t.type||"GET").toUpperCase();var r=a(t.data);"GET"===t.type&&r&&(e="".concat(e).concat(-1===e.indexOf("?")?"?":"&").concat(r));var i=new XMLHttpRequest;i.open(t.type,e,!0),i.async=!0,"POST"===t.type&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Object.keys(t.headers||{}).forEach(function(e){i.setRequestHeader(e,t.headers[e])}),i.withCredentials=!0;var c=setTimeout(function(){i.onreadystatechange=function(){},i.abort(),o()},3e3);i.send(r),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){clearTimeout(c);var e=JSON.parse(i.responseText);n(e)}else o()}})})("https://h5.ele.me/restapi/eus/v2/current_user?info_raw={}",{type:"GET",headers:{"x-shard":"loc=".concat(e,",").concat(t)}}).then(function(e){var t="number"==typeof e?e:e.user_id;n(t||"0")}).catch(function(){n("0")})})},y=r?function(e){var t=d(),n=t.SID,o=t.ssi,r=t.isminiprogram,i=t.uid;if("1"===r&&(n||o)&&i){var a=new Date;a.setFullYear(a.getFullYear()+1),document.cookie="SID=".concat(n||o,"; expires=").concat(a.toUTCString(),"; Domain=.ele.me; Path=/"),document.cookie="USERID=".concat(i,"; expires=").concat(a.toUTCString(),"; Domain=.ele.me; Path=/")}return e.user_id=s("USERID")||"0",e}:function(e){return new Promise(function(t){var n=s("UTUSER");if(n)return e.user_id=n,t(e);b(e.longitude,e.latitude).then(function(n){e.user_id=n,t(e)}).catch(function(){e.user_id="0",t(e)})})},P=/(?:[\w-]+\.)?[\w-]+$|$/i.exec(document.domain||"")[0],E=function(){for(var e="",t=0;t<4;t++)e+="0000000".concat(Math.floor(2821109907456*Math.random()).toString(36)).slice(-8);return e},S=function(){var e=(new Date).getTime();return"".concat(E(),"_").concat(e)},A=function(){var e=new Date((new Date).getTime()+288e5);return"".concat(E(),"_").concat([e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()].join("-").replace(/\b\d\b/g,"0$&"))},O=(p=document.querySelector('meta[name="aplus-waiting"]'))&&"MAN"===p.getAttribute("content"),D=(function(){var e=document.querySelector('meta[name="autogoldlog-exposure-rate"]');e&&e.getAttribute("content")&&parseFloat(e.getAttribute("content"))}(),function(){var e=document.querySelector('meta[name="autogoldlog-exposure-time"]');e&&e.getAttribute("content")&&parseFloat(e.getAttribute("content"))}(),function(){var e=document.querySelector('meta[name="autogoldlog-clk-debounce"]');e&&e.getAttribute("content")&&parseFloat(e.getAttribute("content"))}(),function(){var e=document.querySelector('meta[name="sendlog-params-prefix"]');return e&&e.getAttribute("content")?e.getAttribute("content"):""}()),I=function(){var e=document.querySelector('meta[name="addaplus-extra-params"]');return e&&e.getAttribute("content")?JSON.parse(e.getAttribute("content")):[]}();function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var U,k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params={},this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e,t,n=s("ut_ubt_ssid")||A();e="ut_ubt_ssid",t=n,document.cookie="".concat(e,"=").concat(t,"; Expires=Wed, 31 Dec 2098 16:00:00 GMT; Domain=").concat(P,"; Path=/");var o=this._getQueryObjParams(),r=this._getUrlParams(),i=this._getKbParams(),a=this._getMetaExtraParams(),c=d(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({rank_id:c.rank_id,rank_type:c.rank_type,sort_index:c.sort_index},o,{},i,{},r,{},a,{_ish5:1,"spm-pre":c["spm-pre"],"spm-url":c.spm,ubtssid:n||A(),o2o_page_id:S(),entrance_id:c.entrance_id,entrance_title:c.entrance_title,from:c.ut_from||c.from,aplusVersion:"0.0.14"});this.add(u)}},{key:"getValue",value:function(){return this.params}},{key:"setValue",value:function(e){return this.params=e,this.setMetaInfo(),this.params}},{key:"add",value:function(e){var t=this;return Object.keys(e).forEach(function(n){void 0!==e[n]&&(t.params[n]=e[n])}),this.setMetaInfo(),this.params}},{key:"setMetaInfo",value:function(){var e=a(this.params);(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["aplus-exinfo",e]})}},{key:"_getQueryObjParams",value:function(){try{var e=location.href.match(/[?#&]o2o_extra_param=([^?#&]*)/);return e&&e[1]?JSON.parse(decodeURIComponent(e[1])):{}}catch(e){return console.error("query参数解析失败"),{}}}},{key:"_getUrlParams",value:function(){var e={};if(D){var t=new RegExp("(".concat(D,")[^&|#|?]+"),"g"),n=window.location.href.match(t);n&&n.forEach(function(t){var n=new RegExp("(?:".concat(D,")([^=]+)=(\\S*)")),o=t.match(n);o&&o[1]&&(e[o[1]]=o[2]||void 0)})}return e}},{key:"_getKbParams",value:function(){var e={},t=window.location.href.match(/kb_[^&|#|?]+/g);return t&&t.forEach(function(t){var n=t.match(/(kb_[^=]+)=(\S*)/);n&&n[1]&&(e[n[1]]=n[2]||void 0)}),/h5.ele.me\/search/.test(location.href)&&localStorage.setItem("ADDAPLUS_ELEME_KB_PARAMS",JSON.stringify(e)),t?e:JSON.parse(localStorage.getItem("ADDAPLUS_ELEME_KB_PARAMS"))}},{key:"_getMetaExtraParams",value:function(){var e={};return I.forEach(function(t){var n=t.split("=");e[n[0]]=n[1]}),e}}])&&M(t.prototype,n),o&&M(t,o),e}();try{U=new k}catch(e){console.error(e),U={params:{},getValue:function(){},setValue:function(){},add:function(){},setMetaInfo:function(){}}}var j=U;(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["aplus-waiting","MAN"]});var L,q,C=function(e){j.add(e);var t=document.createElement("script");t.src="//g.alicdn.com/alilog/mlog/aplus_wap.js",t.type="text/javascript",t.id="beacon-aplus",t.setAttribute("exparams","uidaplus=".concat(e.user_id,"&aplus&sidx=aplusSidex")),document.body.appendChild(t),t.onload=function(){if(O||l(j.getValue()),(window.ebridge.isAliMiniApp||window.ebridge.isAlipay)&&document.addEventListener("resume",function(){l(j.getValue())},!1),ebridge&&ebridge.isEleme&&window.hybridAPI&&window.hybridAPI.compareVersion("8.12.0")){var e=u(),t={"spm-cnt":"".concat(e,".0.0")},n=c("spm");n&&(t["spm-url"]=n),hybridAPI.updatePageProperties(t)}}},R=function(){return new Promise(function(e){var t=localStorage.getItem("ELEME_ALIPAY_DDID");return t?e(t):window.ap&&window.ap.call?void window.ap.call("getConfig",{configKeys:["did"]},function(t){var n=t.data,o=void 0===n?{}:n,r=t.did||o.did||"";if(r)return localStorage.setItem("ELEME_ALIPAY_DDID",r),e(r);e("")}):e("")})},N=function(){return new Promise(function(e){var t=localStorage.getItem("ELEME_TB_UTDID");return t?e(t):window.WindVane?void window.WindVane.call("TBDeviceInfo","getUtdid",{},function(t){if(t&&t.utdid)return localStorage.setItem("ELEME_TB_UTDID",t.utdid),e(t.utdid);e("")},function(){e("")}):e("")})},B=function(){return new Promise(function(e){var t=d().union_id;if(t){var n=new Date;n.setFullYear(n.getFullYear()+1),document.cookie="UNIONID=".concat(t,"; expires=").concat(n.toUTCString(),"; Domain=.ele.me; Path=/")}e(s("UNIONID")||"")})},V=function(){return Promise.resolve("")},F=(L=o?o.isAlipayMini||o.isAlipay?R:o.isTaobao||o.isTBMini?N:r?B:V:V,q=1e3,function(){var e=function(e){return new Promise(function(t){setTimeout(t,e)})}(q).then(function(){return!1});return Promise.race([L(),e])}),G=function(e){return F().then(function(t){return t?(o.isAlipayMini||o.isAlipay?e.alipay_ddid=t:e.eleme_device_id=t,e):e})},Y=function(e){if(!r)return e;var t=d().wx_id;if(t){var n=new Date;n.setFullYear(n.getFullYear()+1),document.cookie="WXCOOKIEID=".concat(t,"; expires=").concat(n.toUTCString(),"; Domain=.ele.me; Path=/")}return e.wx_cookie_id=s("WXCOOKIEID"),e},K=function(e){if(!window.UBT||!window.UBT_SEND_LOOP)return e;var t=e.alipay_ddid,n=e.wx_cookie_id,o=e.eleme_device_id;try{(ebridge.isAlipayMini||ebridge.isAlipay||ebridge.isTaobao||ebridge.isTBMini||r)&&(window.UBT.params.ssid=t||n||o||""),delete window.UBT_CUSTOM_SEND,window.UBT_SEND_LOOP.forEach(function(e){window.UBT.send.apply(window.UBT,e)})}catch(e){}return e};window.__AddAplus__={promise:new Promise(function(){}),getDefaultExParams:j.getValue.bind(j),setDefaultExParams:j.setValue.bind(j),addDefaultExParams:j.add.bind(j),currentPageSpm:u(),createO2OPageId:S,sendPv:l,sendGoldlog:function(e,t,n){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[e,t,n,"GET"]})}},window.getPageLocation=w,window.getGeoHashLocation=m,function(){if(window.ebridge){window.ebridge.isEleme&&window.hybridAPI&&!window.hybridAPI.compareVersion("8.12.0")&&(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["aplus-toUT","UT4Aplus"]});var e=_().then(y).then(G).then(Y).then(K).then(C);window.__AddAplus__.promise=e}}()}});